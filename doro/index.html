<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf8">
	<meta name="viewport" content="width=device-width, user-scalable=no">

	<title>Doro</title>
	<link rel="manifest" href="manifest.json">
	<link rel="stylesheet" href="css/style.css"/>
	<script src="../libs/1px.js"></script>
</head>
<body>

<main id="main">
	<ui-scrollview>
		<section class="line">
		</section>

		<section class="kms">
			<h1 *foreach="kms as row, index" class="todo" [style.bottom.%]="((kms.length-index) / kms.length * 100)">{{ (kms.length-index) * 1000 }} km</h1>
		</section>

		<section class="todos">
			<section *foreach="todos as todo, index" class="todo" [style.bottom.%]="+todo[4] / 1000" [attr.new]="todo[1] == todo[2]">
				<div class="icon">
					<div><div></div></div>
				</div>
				<div class="box">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path fill="#fff" d="M19.77 7.23l.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 10H6V5h6v5zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/></svg>

					<h1>{{ todo[0] }}</h1>
					<div flex></div>
					<p>매 {{ todo[2] }}km 마다</p>
				</div>
			</section>
		</section>


		<section class="current-line">
			<!--<div class="km">{{ km }} km</div>-->
		</section>


		<section class="current">
			<section class="todo">
				<div class="icon">
					<div>
<?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="48px" height="48px"
	 viewBox="0 0 48 48" style="enable-background:new 0 0 47.032 47.032;" xml:space="preserve">
<g>
	<path d="M29.395,0H17.636c-3.117,0-5.643,3.467-5.643,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759
		c3.116,0,5.644-2.527,5.644-5.644V6.584C35.037,3.467,32.511,0,29.395,0z M34.05,14.188v11.665l-2.729,0.351v-4.806L34.05,14.188z
		 M32.618,10.773c-1.016,3.9-2.219,8.51-2.219,8.51H16.631l-2.222-8.51C14.41,10.773,23.293,7.755,32.618,10.773z M15.741,21.713
		v4.492l-2.73-0.349V14.502L15.741,21.713z M13.011,37.938V27.579l2.73,0.343v8.196L13.011,37.938z M14.568,40.882l2.218-3.336
		h13.771l2.219,3.336H14.568z M31.321,35.805v-7.872l2.729-0.355v10.048L31.321,35.805z" fill="#fff"/>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
	<g>
	</g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>

					</div>
				</div>
				<div class="box">
					<div class="tri"></div>
					<h1>현재 주행거리는 <span style="font-size: 16px; color : orange">{{ km }}</span> km 입니다.</h1>
				</div>
			</section>
		</section>


	</ui-scrollview>
</main>


<footer>
	<!--<h1>Doro</h1>-->
	<!--<div></div>-->
	<!--<div>cam</div>-->
</footer>


<script type="module">
const {$compile} = require("$compile");


let main = document.getElementById("main");

let a = [];
for (let i = 0; i < 100; i++) {
	a[i] = i;
}
main.kms = a;


let todos = [
	["엔진오일", "10000"],
	["엔진 플러싱(세정)", "20000"],
	["점화플러그 & 코일,케이블", "30000"],
	["리스톤링 및 연소실 세척작업", "30000"],
	["가열(예열)플러그", "40000"],
	["흡기라인세척 작업", "30000"],
	["타이밍밸트", "80000"],
	["타이밍체인", "200000"],
	["구동벨트", "40000"],
	["엔진/밋션 마운팅 ", "100000"],
	["변속기(미션)오일", "40000"],
	["디프렌션오일", "40000"],
	["연료휠터", "30000"],
	["연료라인/인젝터세정", "30000"],
	["연료탱크 에어필터", "40000"],
	["브레이크패드", "30000"],
	["브레이크오일", "40000"],
	["브레이크 디스크 연마", "80000"],
	["부동액", "40000"],
	["냉각라인 세정", "40000"],
	["히터&에어컨휠터", "12000"],
	["에어컨필터", "5000"],
	["히터클리닉", "5000"],
	["와이퍼", "8000"],
	["에어컨 냉매 보충", "10000"],
	["에어컨 가스 및 냉동유 교환", "40000"],
	["통풍씨트 휠터", "40000"],
	["파워스티어링오일", "40000"],
	["타이어위치교환", "10000"],
	["휠얼라이먼트", "20000"],
	["배터리", "60000"],
];

todos.forEach(todo => {
	todo[1] = +todo[1];
});
todos.sort((a,b) => (b[1] - a[1]));



let t = [];
todos.forEach(todo => {

	for (let i = 0; i < 10; i++) {
		let _todo = todo.slice();
		_todo[2] = +_todo[1];
		_todo[1] = +_todo[1];
		_todo[1] = +_todo[1] * i;
		t.push(_todo);
	}
})

todos = t;



let pos = {};
todos.forEach(todo => {
	let km = +todo[1];
	while (pos[km]) {
		km += 50;
	}
	pos[km] = km;
	todo[4] = km;
});


main.todos = todos;
main.km = 0;

$compile(main);

window.onscroll = function() {
	main.km = Math.round((1 - (window.pageYOffset - 150) / (document.body.scrollHeight - document.body.offsetHeight)) * 100000);
};


setTimeout(function() {
	window.scroll(0, 9999999);
})

</script>


</body>
</html>