@import core

[hidden] {
  display none !important
}

*
  font inherit
  box-sizing border-box
  margin: 0;
  padding: 0;

html, body
  background: #f1f1f1;
  height 100%

body
  display: flex
  font-family "Apple SD Gothic Neo", 'Noto Sans KR', "Noto Sans CJK KR", "Helvetica Neue", 'dotum', sans-serif;
  font-weight 200
  overflow hidden


main
  display: flex;
  position relative
  flex-direction: column;
  width 100%
  height: 100%;
  margin auto
  background #fff

  content
    display flex
    flex-direction column
    width 100%
    height 100%
    overflow hidden
    transform translate3d(0, 0, 0)
    background-image linear-gradient(#308b94, #70b34d)


+tablet-and-desktop()
  body
    background #fafafa

  main
    width: 375px;
    height: 667px;
    max-height: calc(100% - 140px)
    border-radius: 36px;
    box-shadow: 0 0 32px rgba(0, 0, 0, .2), 0 12px 24px rgba(0, 0, 0, .5)
    box-sizing content-box
    border 16px solid #111
    border-top-width 60px
    border-bottom-width 60px

    &:before {
      content: '';
      display: block;
      width: 60px;
      height: 5px;
      position: absolute;
      top: -30px;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, .2)
      border-radius: 10px;
    }


///
flex, [flex] {
  flex: 1;
}

[hbox] {
  display flex
}

[vbox] {
  display flex
  flex-direction column
}


flex
  display flex


ai-app
  display flex
  margin: auto;
  width 100%
  height 100%
  background: #fff
  overflow hidden
  position relative

  > section
    display flex
    width 100%
    height 100%

h1 {
  text-align: center;
  font-size 32px

}

divider
  display block
  height 0
  border-top 1px solid #ccc


header
  padding 0 16px


.prev-msg
  padding 16px
  font-size 16px
  position absolute
  top 0
  font-style italic
  width 100%

.msg
  position absolute
  text-align left;
  padding 16px
  color #ccc
  width 100%
  font-size 32px
  font-weight 100
  min-height 32px
  top 50%
  transform-origin 0 0
  transform translate(0, -50%)

  &.me
    top 50%
    width 100%
    margin auto
    text-align right
    transform-origin 100% 50%
    transform translate(0, -50%)
    color #ccc

    &.isfinal
      color #fff


cursor
  display inline-block
  height 1em
  border-right 2px solid #000


@keyframes blink {
  50% {
    opacity: 0.0;
  }
}

@-webkit-keyframes blink {
  50% {
    opacity: 0.0;
  }
}

.blink {
  animation: blink 1s step-start 0s infinite;
  -webkit-animation: blink 1s step-start 0s infinite;
}


.hint
  width 100%
  display block
  text-align center
  font-size 18px
  color #ccc


mic-wave
  display flex
  //position absolute
  //bottom 0px
  width 100%
  height 78px;
  //height 50%
  //margin-top -75px
  z-index 0

  section
    display flex
    margin auto

    div
      transition background-color 0.5s
      background #999
      width 10px
      height 10px
      border-radius 10px
      margin auto 5px

      &[selected]
        //background #555
        height 30px


mic-wave [state="final"]
  div
    background #333


mic-wave [state="nomatch"]
  div
    animation shake 0.5s


@keyframes shake {
  0% {
    transform translate(-3px, 0)
  }

  25% {
    transform translate(3px, 0)
  }

  50% {
    transform translate(-3px, 0)
  }

  100% {
    transform translate(0px, 0)
  }
}


@keyframes updown {
  from {
    transform translate(0, -6px)
  }

  to {
    transform translate(0, 6px)
  }
}


[state="listen"]
  .c1 {
    animation updown linear 0.75s infinite alternate
  }

  .c2 {
    animation updown linear 0.75s infinite alternate-reverse
  }


wait-dots
  display inline-block
  vertical-align middle
  line-height 1

  > section
    hbox()
    background #eee
    padding 8px
    height 30px
    border-radius 15px

    > div
      display flex
      vertical-align middle
      width 8px;
      height 8px;
      border-radius 8px
      background #999
      margin 0 2px;

  .wd1
    animation wait-dots linear 1s infinite

  .wd2
    animation wait-dots2 linear 1s infinite

  .wd3
    animation wait-dots3 linear 1s infinite


@keyframes wait-dots {
  0% {
    transform translate(0, 0)
    opacity 1
  }

  25% {
    transform translate(0, -4px)
    opacity 0.5
  }

  75%, 100% {
    transform translate(0, 0)
    opacity 1
  }
}

@keyframes wait-dots2 {
  0%, 25% {
    transform translate(0, 0)
    opacity 1
  }

  50% {
    transform translate(0, -4px)
    opacity 0.5
  }

  75%, 100% {
    transform translate(0, 0)
    opacity 1
  }
}

@keyframes wait-dots3 {
  0%, 50% {
    transform translate(0, 0)
    opacity 1
  }

  75% {
    transform translate(0, -4px)
    opacity 0.5
  }

  100% {
    transform translate(0, 0)
    opacity 1
  }
}


//[state="listen"]
//.d1 {
//  animation updown linear 0.5s infinite alternate
//}
//
//.d2 {
//  animation updown linear 0.5s infinite alternate-reverse
//}
//
//.d3 {
//  animation updown linear 0.5s infinite alternate-reverse
//}


mic-wave
  .d1, .d2, .d3
    display flex
    border-radius 50%
    width 64px
    height 64px
    background rgba(0, 0, 0, .05)
    box-shadow 0 0 10px rgba(0, 0, 0, .05)
    margin auto

  .d2
    width 90%
    height 90%

  .d3
    width 90%
    height 90%


ai-message
  display block


ui-speech-to-text
  display flex
  margin auto
  width 100%
  overflow hidden

ui-speech-to-text
  transition opacity 1s

  .transcript
    color #ccc

    &.isfinal
      color #111


.msg
  color #fff
  top 50%
  transform-origin 0 0
  transform translate(0, -50%)

  &[who="me"]
    transform-origin 100% 0
    text-align right

  &[state="done"]
    transition top 1s, transform 1s
    top 0
    transform translate(0, 0) scale(0.6)

  &[state="prev"]
    transition top 1s, transform 1s
    top 0
    transform translate(0, -100%) scale(0.6)


.hints
  position relative
  overflow hidden
  margin-top 16px

  .hint
    background #fff

  //animation fade 1s infinite

  .hint2
    position absolute
    top 0

//animation fade2 1s infinite


@keyframes fade {
  from {
    transform translate3d(0, 0, 0)
    opacity 1
  }

  to {
    transform translate3d(0, -100%, 0)
    opacity 0
  }
}


@keyframes fade2 {
  from {
    transform translate3d(0, 100%, 0)
    opacity 0
  }

  to {
    transform translate3d(0, 0, 0)
    opacity 1
  }
}

.tts-word
  display inline-block
  white-space pre
  transition all 0.5s
  opacity 0
  transform translate3d(15px, 0, 0)

.tts-word-animation
  transition all 0.5s
  opacity 1
  transform translate3d(0, 0, 0)


animated-dialog
  display block

  p
    transition top 1s, transform 1s
    opacity 0
    white-space pre-line

  p:nth-child(1)
    top 0
    transform translate(0, -100%) scale(0.6)
    opacity 1

  p:nth-child(2)
    top 0
    transform translate(0, 0) scale(0.6)
    opacity 1

  p:nth-child(3)
    transform translate(0, -50%) scale(1)
    opacity 1


ui-script-editor
  width 50%
  height 100%

  textarea
    display block
    width 100%
    height 100%
    padding 8px
    font-size 16px
    line-height 1.5
    background #000
    color #fff
    outline 0
    border 0

.msg
  .caption
    display block
    font-size 22px
    margin-top 12px
    color #3434a5
    transition 1s opacity 0.5s
    opacity 0

    &.show
      opacity 1


ai-agent
  display flex
  width 100%
  height 100%


ui-speech-to-text
  white-space pre-wrap


ui-mission
  display block
  position absolute
  top 0
  left 0
  right 0
  bottom 0

ui-background
  display block
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  background-repeat no-repeat
  background-position center -190px
  background-image: url(../imgs/a9139e165a9192dd3935c83091590af0.jpg)
  background-size cover


ui-background.overlay
  background-image: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 1))

  section
    display flex
    flex-direction column
    padding 32px
    height 100%
    text-align left

    #desc-p p
      margin 4px 0

      &[lang=en]
        font-size 18px

      &[lang=ko]
        color #555
        font-size 15px

    h1
      margin 14px 0
      text-align left
      font-weight 400

    div.invoke
      text-align center
      padding 32px
      margin-top 64px
      margin-bottom 16px

      h2
        margin 4px 0
        font-size 18px
        color #666

      > p
        font-size 32px


#mission-bg
  transition all 1s

  #desc-title
  #desc-p
    transition all 1.5s
    opacity 0

  .invoke
    transition all 1s
    opacity 0


ai-agent
  position relative
  transition opacity 1s


ui-feedback
  transition all 1s
  opacity 0

  display flex
  position absolute
  top 0
  left 0
  right 0
  bottom 0

  > section
    margin auto 32px
    padding 16px
    //box-shadow 0 0 10px rgba(0,0,0,.1)
    //border-radius 8px
    text-align center

  img
    display block
    width 80%
    margin 32px auto

  p
    margin 16px 0

    &[lang="ko"]
      color #666
      font-size 14px
